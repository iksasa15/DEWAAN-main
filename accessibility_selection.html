<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¯ÙŠÙˆØ§Ù† Ø§Ù„Ù…Ø¸Ø§Ù„Ù… - Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø©</title>
    <meta name="description" content="ØµÙØ­Ø© Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø© - Ø¯ÙŠÙˆØ§Ù† Ø§Ù„Ù…Ø¸Ø§Ù„Ù…">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
            background: #1a3a32;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 30px;
        }

        .container {
            background: #ffffff;
            border-radius: 20px;
            padding: 50px;
            max-width: 800px;
            width: 100%;
            text-align: center;
            position: relative;
        }

        .logo {
            font-size: 80px;
            margin-bottom: 20px;
        }

        h1 {
            font-size: 42px;
            color: #1a3a32;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .subtitle {
            font-size: 24px;
            color: #666;
            margin-bottom: 50px;
        }

        .question {
            font-size: 28px;
            color: #333;
            margin-bottom: 40px;
            line-height: 1.6;
        }

        .buttons {
            display: flex;
            flex-direction: column;
            gap: 25px;
            max-width: 500px;
            margin: 0 auto;
        }

        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 25px 40px;
            font-size: 26px;
            font-weight: 700;
            text-decoration: none;
            border-radius: 15px;
            border: 4px solid transparent;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            width: 100%;
        }

        .btn:focus {
            outline: 5px solid #3d8977;
            outline-offset: 4px;
        }

        .btn-primary {
            background: #1a3a32;
            color: #ffffff;
        }

        .btn-primary:hover {
            background: #2b6154;
            transform: scale(1.02);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .btn-secondary {
            background: #ffffff;
            color: #1a3a32;
            border-color: #1a3a32;
        }

        .btn-secondary:hover {
            background: #f0f7f5;
            transform: scale(1.02);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .btn-icon {
            font-size: 36px;
            margin-left: 20px;
        }

        .footer {
            margin-top: 30px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 16px;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø²Ø± Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ† */
        .mic-container {
            margin-top: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .mic-btn {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: #ffffff;
            border: 2px solid #1a3a32;
            color: #1a3a32;
            font-size: 32px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mic-btn:hover {
            transform: scale(1.1);
            background: #f0f7f5;
        }

        .mic-btn.recording {
            background: #dc2626;
            border-color: #dc2626;
            color: white;
            animation: pulse 1.5s infinite;
        }

        .mic-status {
            font-size: 18px;
            color: #666;
            min-height: 27px;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.7);
            }

            70% {
                transform: scale(1.1);
                box-shadow: 0 0 0 10px rgba(220, 38, 38, 0);
            }

            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(220, 38, 38, 0);
            }
        }

        /* Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
        @media (max-width: 600px) {
            .container {
                padding: 30px 20px;
            }

            h1 {
                font-size: 32px;
            }

            .subtitle {
                font-size: 20px;
            }

            .question {
                font-size: 22px;
            }

            .btn {
                font-size: 20px;
                padding: 20px 25px;
            }
        }

        /* ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ© */
        @media (prefers-reduced-motion: reduce) {

            .btn,
            .mic-btn {
                transition: none;
                animation: none;
            }
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }
    </style>
</head>

<body>
    <div id="announcements" aria-live="assertive" aria-atomic="true" class="sr-only"></div>

    <main class="container" role="main">
        <div class="logo" aria-hidden="true">âš–ï¸</div>
        <h1>Ø¯ÙŠÙˆØ§Ù† Ø§Ù„Ù…Ø¸Ø§Ù„Ù…</h1>
        <p class="subtitle">Ù†Ø¸Ø§Ù… Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù‚Ø¶Ø§Ø¦ÙŠØ©</p>

        <p class="question">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø¯Ø®ÙˆÙ„:</p>

        <div class="buttons" role="group" aria-label="Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„">
            <!-- Ø®ÙŠØ§Ø± Ø§Ù„ØµÙ… ÙˆØ§Ù„Ø¨ÙƒÙ… -->
            <a href="index.html" class="btn btn-secondary" id="btn-deaf" onclick="setMode('deaf')">
                <span class="btn-icon" aria-hidden="true">ğŸ§â€â™‚ï¸</span>
                Ø§Ù„ØµÙ… ÙˆØ§Ù„Ø¨ÙƒÙ…
            </a>

            <!-- Ø®ÙŠØ§Ø± Ø§Ù„ÙƒÙÙŠÙ -->
            <a href="blind_accessible.html" class="btn btn-secondary" id="btn-blind" onclick="setMode('blind')">
                <span class="btn-icon" aria-hidden="true">ğŸ¦¯</span>
                Ø§Ù„ÙƒÙÙŠÙ
            </a>

            <!-- Ø®ÙŠØ§Ø± ÙƒØ¨Ø§Ø± Ø§Ù„Ø³Ù† -->
            <a href="elderly_accessible.html" class="btn btn-secondary" id="btn-elderly" onclick="setMode('elderly')">
                <span class="btn-icon" aria-hidden="true">ğŸ‘´</span>
                ÙƒØ¨Ø§Ø± Ø§Ù„Ø³Ù†
            </a>
        </div>

        <div class="mic-container">
            <button id="micBtn" class="mic-btn" aria-label="ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØµÙˆØªÙŠØ©"
                title="ØªØ­Ø¯Ø« Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø®ÙŠØ§Ø±">ğŸ¤</button>
            <div id="micStatus" class="mic-status" aria-live="polite">Ø§Ø¶ØºØ· ÙˆØªØ­Ø¯Ø« Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±</div>
        </div>
    </main>

    <footer class="footer">
        <p>Â© 2025 Ø¯ÙŠÙˆØ§Ù† Ø§Ù„Ù…Ø¸Ø§Ù„Ù… - Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</p>
    </footer>

    <script>
        // Ø¯Ø§Ù„Ø© Ù„Ø­ÙØ¸ ÙˆØ¶Ø¹ Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ù…Ø®ØªØ§Ø±
        function setMode(mode) {
            localStorage.setItem('accessibilityMode', mode);
        }

        // Accessibility Announcements
        const announcements = document.getElementById('announcements');
        function announce(msg) {
            announcements.textContent = '';
            setTimeout(() => announcements.textContent = msg, 100);
        }

        window.addEventListener('load', () => {
            setTimeout(() => {
                announce('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¯ÙŠÙˆØ§Ù† Ø§Ù„Ù…Ø¸Ø§Ù„Ù…. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©: Ø§Ù„ØµÙ… ÙˆØ§Ù„Ø¨ÙƒÙ…ØŒ Ø§Ù„ÙƒÙÙŠÙØŒ Ø£Ùˆ ÙƒØ¨Ø§Ø± Ø§Ù„Ø³Ù†. Ø§Ø¶ØºØ· Tab Ù„Ù„ØªÙ†Ù‚Ù„ Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ† Ù„Ù„ØªØ­Ø¯Ø«.');
                document.getElementById('btn-deaf').focus();
            }, 800);
        });

        document.querySelectorAll('.btn').forEach(btn => {
            btn.addEventListener('focus', function () {
                announce(this.textContent.trim() + '. Ø§Ø¶ØºØ· Enter Ù„Ù„Ø¯Ø®ÙˆÙ„.');
            });
        });

        // Voice Recognition Logic
        const micBtn = document.getElementById('micBtn');
        const micStatus = document.getElementById('micStatus');
        let recognition;
        let isRecording = false;

        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            recognition = new SpeechRecognition();
            recognition.lang = 'ar-SA';
            recognition.continuous = false;
            recognition.interimResults = false;

            recognition.onstart = function () {
                isRecording = true;
                micBtn.classList.add('recording');
                micStatus.textContent = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹...";
                announce("Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ØŒ Ù‚Ù„ Ø§Ø®ØªÙŠØ§Ø±Ùƒ Ù…Ø«Ø§Ù„: ÙƒÙÙŠÙ");
            };

            recognition.onend = function () {
                isRecording = false;
                micBtn.classList.remove('recording');
                if (micStatus.textContent === "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹...") {
                    micStatus.textContent = "Ø§Ø¶ØºØ· ÙˆØªØ­Ø¯Ø« Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±";
                }
            };

            recognition.onresult = function (event) {
                const transcript = event.results[0][0].transcript.trim(); // No toLowerCase for Arabic usually
                micStatus.textContent = `Ø³Ù…Ø¹Øª: "${transcript}"`;
                announce(`ØªÙ… Ø³Ù…Ø§Ø¹: ${transcript}`);

                processVoiceCommand(transcript);
            };

            recognition.onerror = function (event) {
                console.error("Speech recognition error", event.error);
                micStatus.textContent = "Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ù… Ø£Ø³Ù…Ø¹ Ø¬ÙŠØ¯Ø§Ù‹";
                stopRecording();
            };

            micBtn.addEventListener('click', toggleRecording);
        } else {
            micBtn.style.display = 'none';
            micStatus.style.display = 'none';
            console.log("Web Speech API not supported in this browser.");
        }

        function toggleRecording() {
            if (isRecording) {
                stopRecording();
            } else {
                startRecording();
            }
        }

        function startRecording() {
            if (recognition) {
                try {
                    recognition.start();
                } catch (e) {
                    console.error(e);
                }
            }
        }

        function stopRecording() {
            if (recognition) {
                recognition.stop();
            }
        }

        function processVoiceCommand(command) {
            // Basic fuzzy matching for Arabic terms
            if (command.includes('Ø£ØµÙ…') || command.includes('ØµÙ…') || command.includes('Ø¨ÙƒÙ…') || command.includes('Ø£Ø¨ÙƒÙ…')) {
                document.getElementById('btn-deaf').click();
            } else if (command.includes('ÙƒÙÙŠÙ') || command.includes('Ø§Ø¹Ù…Ù‰') || command.includes('Ø¨ØµØ±')) {
                document.getElementById('btn-blind').click();
            } else if (command.includes('Ø³Ù†') || command.includes('ÙƒØ¨ÙŠØ±') || command.includes('Ø¹Ø¬ÙˆØ²') || command.includes('Ø´ÙŠØ®')) {
                document.getElementById('btn-elderly').click();
            } else {
                setTimeout(() => {
                    micStatus.textContent = "Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø®ÙŠØ§Ø±ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰";
                    announce("Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø®ÙŠØ§Ø±ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰");
                }, 1500);
            }
        }
    </script>
</body>

</html>